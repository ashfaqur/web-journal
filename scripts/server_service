[Unit]
Description=Journal Server
After=network.target

[Service]
Type=simple
User=pi
WorkingDirectory=/home/pi/sb/web-journal/server
Environment=JOURNAL_DATABASE_PATH=/home/pi/journal.db
ExecStart=/home/pi/sb/web-journal/.venv/bin/uvicorn main:app --host 0.0.0.0 --port 8181

# Logging
StandardOutput=append:/home/pi/webserverlog.txt
StandardError=append:/home/pi/webserverlog.txt

# Restart on failure
Restart=always
RestartSec=30

[Install]
WantedBy=multi-user.target
