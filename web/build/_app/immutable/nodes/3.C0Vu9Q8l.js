import{t as y,a as C}from"../chunks/disclose-version.Dw_O2kA8.js";import{p as h,s as _,a as b,f as D,g as e,e as r,b as N,d as w,c as g,r as p}from"../chunks/runtime.D8p1NF4P.js";import{e as k,i as A}from"../chunks/each.m9ykutg7.js";import{p as v,o as j}from"../chunks/index-client.v0nErfSU.js";import{f as B,b as F}from"../chunks/api.Cnw3Ux_m.js";import{P as G}from"../chunks/PlotBar.BqnDJqzG.js";import{L as M}from"../chunks/LineChart.DS4whf9E.js";var O=y("<!> <!>",1);function X(f,a){h(a,!0);let n=_(v([]));j(async()=>{const t=await B(a.counterName,180);t.isFallback||b(n,v(t.data.map(([L,,P])=>[L,P])))});var s=O(),o=D(s),i=r(()=>`"${a.counterName}" over last 30 days`),c=r(()=>a.counts.map(t=>t.date)),x=r(()=>a.counts.map(t=>t.count));G(o,{get title(){return e(i)},xaxis:"Date",yaxis:"Count",get x(){return e(c)},get y(){return e(x)}});var m=N(o,2),u=r(()=>`"${a.counterName}" (Cumulative) over last 180 days`),l=r(()=>e(n).map(([t])=>t)),d=r(()=>e(n).map(([,t])=>t));M(m,{get title(){return e(u)},xaxis:"Date",yaxis:"Cumulative Count",displayXAxisGap:2,get x(){return e(l)},get y(){return e(d)}}),C(f,s),w()}var q=y('<section><div class="container flex min-w-full items-center justify-center bg-green-400 px-6 py-1"><h3 class="text-2xl"></h3></div></section> <section></section>',1);function R(f,a){h(a,!0);const n="Counter";let s=_(v({}));j(async()=>{const u=await F(30);b(s,v(u.data))});var o=q(),i=D(o),c=g(i),x=g(c);x.textContent=n,p(c),p(i);var m=N(i,2);k(m,21,()=>Object.entries(e(s)),A,(u,l)=>{let d=()=>e(l)[0],t=()=>e(l)[1];X(u,{get counterName(){return d()},get counts(){return t()}})}),p(m),C(f,o),w()}export{R as component};
