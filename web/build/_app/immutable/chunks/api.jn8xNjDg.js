const s="http://192.168.2.221:8181",n=[{date:"29/03",state:"Complete",points:272},{date:"30/03",state:"Complete",points:302},{date:"31/03",state:"Complete",points:120},{date:"01/04",state:"Complete",points:189},{date:"02/04",state:"Complete",points:131},{date:"03/04",state:"Complete",points:110},{date:"04/04",state:"Complete",points:81},{date:"05/04",state:"Complete",points:110},{date:"06/04",state:"Complete",points:64},{date:"07/04",state:"Complete",points:68},{date:"08/04",state:"Complete",points:115},{date:"09/04",state:"Complete",points:167},{date:"10/04",state:"Complete",points:101},{date:"11/04",state:"Complete",points:185},{date:"12/04",state:"Complete",points:142},{date:"13/04",state:"Complete",points:144},{date:"14/04",state:"Complete",points:80},{date:"15/04",state:"Complete",points:110},{date:"16/04",state:"Complete",points:229},{date:"17/04",state:"Complete",points:142},{date:"18/04",state:"Complete",points:98},{date:"19/04",state:"Complete",points:127},{date:"20/04",state:"Incomplete",points:57},{date:"21/04",state:"Incomplete",points:0},{date:"22/04",state:"Complete",points:84},{date:"23/04",state:"Complete",points:107},{date:"24/04",state:"Incomplete",points:104},{date:"25/04",state:"Complete",points:224},{date:"26/04",state:"Complete",points:140},{date:"27/04",state:"None",points:0}];async function l(t){const e=n.slice(0,t);try{console.log(`Fetching last ${t} days from server:`,s);const a=await fetch(`${s}/lastdays/${t}`);if(!a.ok)return console.warn("Response not OK, falling back to stub data"),{data:e,isFallback:!0};const o=await a.json();return p(o)?{data:o,isFallback:!1}:(console.warn("Data format invalid, falling back to stub"),{data:e,isFallback:!0})}catch(a){return console.error("Network error fetching last 30 days:",a),console.log("Falling back to stub data after fetch error"),{data:e,isFallback:!0}}}function p(t){return Array.isArray(t)&&t.every(e=>typeof e.date=="string"&&typeof e.state=="string"&&typeof e.points=="number")}async function i(){return fetch(`${s}/health`).then(t=>t.ok).catch(()=>!1)}export{l as f,i as s};
